  <script type="text/javascript" src="../resources/adminlte/plugins/jQuery/jQuery-2.2.0.min.js"></script>
  <script src="https://surveyjs.azureedge.net/1.0.25/survey.jquery.min.js"></script>
<div id="surveyContainer"></div>
<script type="text/javascript">
var pagerID ="${id}";
Survey.Survey.cssType = "bootstrap";
Survey.surveyLocalization.currentLocale="zh-cn";
Survey.JsonObject
        .metaData
        .addProperty("questionbase", {
            name: "myid:number",
            default: 0,
            visible: false 
        });

function sendDataToServer(survey) {
    var saveurl =  "../score/savescore" ;
    var data = {"answer":survey.data, "paperid" : pagerID};
    $.post({
        url:saveurl,
        data: "obj=" + encodeURI(JSON.stringify(data)),
        success:function(d){

        }
    });

}


var dataurl =  "get/" + pagerID;

$.get(dataurl, function(result) {
    if (result.pages != undefined && result.pages.length > 10) {
        var surveyJSON = result.pages;
        var survey = new Survey.Model(surveyJSON);
        $("#surveyContainer").Survey({
            model: survey,
            onComplete: sendDataToServer
        });

    }

});



</script>